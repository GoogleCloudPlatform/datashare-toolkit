# Copyright 2019 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
name: mlb_simple
projectId: cds-ci
accessControl:
  datasetId: access_control
  viewId: groupEntities
groups:
- name: newyork_users
  access:
  - userByEmail: benjentargaryen.327201@gmail.com
- name: chicago_users
  access:
  - userByEmail: melisandresnow.388027@gmail.com
datasets:
- name: ny_fans
  groupNames:
  - newyork_users
  accessControlLabels:
  - NY1
  - NY2
  - NY3
  - NY4
  - NYA
  - NYN
  - NYP
- name: chicago_fans
  groupNames:
  - chicago_users
views:
- datasetNames:
  - ny_fans
  name: ny_game_logs
  expiration:
    delete: true
    time: 1597944246000
  source:
    datasetId: mlb
    tableId: game_logs
    accessControl:
      enabled: true
      datasetEnabled: false
      labelColumn: label
      labelColumnDelimiter: "|"
    publicAccess:
      enabled: true
      queryFilter: h_game_number = 1 or v_game_number = 1
      limit: 20
- datasetNames:
  - chicago_fans
  name: chicago_game_logs
  source:
    datasetId: mlb
    tableId: game_logs
    accessControl:
      enabled: true
      datasetEnabled: false
      labelColumn: label
      labels:
      - CH1
      - CH2
      - CHA
      - CHF
      - CHN
      - CHP
      - CHU
