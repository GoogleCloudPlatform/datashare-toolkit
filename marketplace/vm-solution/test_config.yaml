imports:
- path: datashare-vm.jinja
- path: cluster.py
- path: cloud_function.py
- path: deploy_ds_api.py
- path: deploy_ui_cloud_run.py
- path: waiter.jinja

resources:
- name: datashare-vm
  type: datashare-vm.jinja
  properties:
    input_adminEmail: default-user@example.com
    zone: us-central1-a
    useRuntimeConfigWaiter: True
    deployApiToGke: True
    sourceImage: gcp-financial-services-debian-datashare-20200716
    machineType: e2-small
    gceServiceAccount: test-service-account@gmail.com
    bootDiskType: local-ssd
    bootDiskSizeGb: 10
    canIpForward: True
    serviceAccounts:
      - email: test-service-account@gmail.com
        scopes: 
          - 'https://www.googleapis.com/auth/cloud.useraccounts.readonly'
          - 'https://www.googleapis.com/auth/devstorage.read_only'
          - 'https://www.googleapis.com/auth/logging.write'
          - 'https://www.googleapis.com/auth/monitoring.write'
          - 'https://www.googleapis.com/auth/cloud-platform'
          - 'https://www.googleapis.com/auth/cloudruntimeconfig'